<p>
  Welcome {{account.username}}
</p>
<button mat-ripple mat-raised-button (click)="doLogout()"  color="accent">Logout</button><br>


<div class="container content">
  <h2>Movies</h2>
  <div *ngFor="let movie of movies;" (click)="movieClicked(movie)" class="movieClickable">
    <div class="row">
        <h4> {{movie.title}} </h4>
    </div>
    
  </div>
  <button mat-ripple mat-raised-button (click)="addMovieClicked()"  color="accent">Add New</button>
</div>
<div class="container">  
  <div *ngIf="selectedMovie">
    <h2>Details: </h2>
    <h4> {{selectedMovie.title}} </h4>
    <p> {{selectedMovie.description}} </p>
  </div>
</div>
<div *ngIf="!selectedMovie && isAddEditMode">
    <form (ngSubmit)="submitMovie()" [formGroup]="movieInput">
        <div class="form-group">
          <mat-form-field class="example-full-width">
              <input matInput placeholder="Title" formControlName="title">
              <mat-error *ngIf="movieInput.get('title').hasError('required')">
                Title is <strong>required</strong>
              </mat-error>
            </mat-form-field>
        <br>
        <mat-form-field class="example-full-width">
            <textarea matInput placeholder="Description" formControlName="description">
              </textarea>
            <mat-error *ngIf="movieInput.get('description').hasError('required')">
              Description is <strong>required</strong>
            </mat-error>
          </mat-form-field>
          </div>
        <button mat-ripple mat-raised-button type="submit" [disabled]="movieInput.invalid || loading"
        color="primary">Save</button><br>
        <mat-spinner class="spinner" *ngIf="loading"></mat-spinner>
      </form>
</div>


